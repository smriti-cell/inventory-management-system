<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>{{ product['name'] }}</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="/static/style.css">
</head>
<body class="light-mode container py-4">
  <a class="btn btn-sm btn-outline-secondary mb-3" href="/">‚Üê Back</a>

  <div class="glass-card p-3">
    {% if product['image_path'] %}
      <img src="/static/product_images/{{ product['image_path'] }}" style="width:260px;height:180px;object-fit:cover;border-radius:12px;">
    {% else %}
      <img src="/static/barcodes/{{ product['barcode'] }}.png" style="width:260px;height:180px;object-fit:contain;border-radius:12px;" onerror="this.style.display='none'">
    {% endif %}

    <h3 class="mt-3">{{ product['name'] }}</h3>
    <p class="mb-1">Category: {{ product['category_name'] or '-' }}</p>
    <p class="mb-1">Barcode: <strong>{{ product['barcode'] }}</strong></p>
    <p class="mb-1">Quantity: <strong>{{ product['quantity'] }}</strong></p>

    <div class="mt-3">
      <form method="POST" action="/update_quantity/{{ product['id'] }}">
        <div class="input-group mb-2">
          <input name="amount" type="number" class="form-control" placeholder="Amount" required>
          <select name="action" class="form-select" style="width:120px">
            <option value="ADD">Add</option>
            <option value="REMOVE">Remove</option>
          </select>
          <button class="btn btn-primary">Update</button>
        </div>
      </form>

      <a href="/edit_product/{{ product['id'] }}" class="btn btn-outline-secondary me-2">Edit</a>

      <form method="POST" action="/delete_product/{{ product['id'] }}" style="display:inline" onsubmit="return confirm('Delete product?')">
        <button class="btn btn-danger">Delete</button>
      </form>
    </div>
  </div>

</body>
</html>
